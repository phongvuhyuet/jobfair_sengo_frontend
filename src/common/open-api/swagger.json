{"openapi":"3.0.0","paths":{"/posts":{"post":{"operationId":"PostsController_createPost","summary":"create post","description":"create posts","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreatePostDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PostResponseDto"}}}},"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PostResponseDto"}}}}},"tags":["posts"]}},"/posts/{id}":{"put":{"operationId":"PostsController_updatePost","summary":"update post","description":"update post","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdatePostDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StatusResponseDto"}}}},"404":{"description":""}},"tags":["posts"]},"delete":{"operationId":"PostsController_deletePost","summary":"delete post","description":"delete post","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StatusResponseDto"}}}},"404":{"description":""}},"tags":["posts"]},"get":{"operationId":"PostsController_getPost","summary":"get post","description":"get post","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PostResponseDto"}}}},"404":{"description":""}},"tags":["posts"]}},"/posts/filter":{"get":{"operationId":"PostsController_filterPosts","summary":"filter list post by topic posts and title","description":"filter list posts by topic and title","parameters":[{"name":"topic_id","required":false,"in":"query","schema":{"type":"string"}},{"name":"title","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PostResponseDto"}}}}}},"tags":["posts"]}},"/posts/newest":{"get":{"operationId":"PostsController_getLatestPost","summary":"newest 5 post","description":"newest 5 post","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PostResponseDto"}}}}}},"tags":["posts"]}},"/posts/{id}/vote":{"post":{"operationId":"PostsController_votePost","summary":"vote post","description":"vote post","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VotePostDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StatusResponseDto"}}}},"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StatusResponseDto"}}}},"404":{"description":""}},"tags":["posts"]}},"/posts/{id}/isVoted":{"get":{"operationId":"PostsController_getIsVoted","summary":"get is voted","description":"get is voted","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IsVoteResponseDto"}}}}},"tags":["posts"]}},"/comments":{"post":{"operationId":"CommentsController_createPost","summary":"create comment","description":"create comment","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCommentDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentResponseDto"}}}},"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentResponseDto"}}}}},"tags":["comments"]}},"/comments/{postId}":{"get":{"operationId":"CommentsController_getByPostId","summary":"get comments by postId","description":"get comments by post id","parameters":[{"name":"postId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CommentResponseDto"}}}}}},"tags":["comments"]}},"/comments/{id}":{"put":{"operationId":"CommentsController_update","summary":"update comment","description":"update comment","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCommentDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentResponseDto"}}}}},"tags":["comments"]},"delete":{"operationId":"CommentsController_delete","summary":"delete comment","description":"delete comment","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StatusResponseDto"}}}}},"tags":["comments"]}},"/topics":{"post":{"operationId":"TopicController_createPost","summary":"create topic","description":"create topics","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateTopicDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TopicRespDto"}}}},"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TopicRespDto"}}}}},"tags":["topics"]},"get":{"operationId":"TopicController_getPosts","summary":"get list topics","description":"get list topics","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TopicRespDto"}}}}}},"tags":["topics"]}},"/topics/{id}":{"put":{"operationId":"TopicController_updatePost","summary":"update topic","description":"update topic","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateTopicDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StatusResponseDto"}}}},"404":{"description":""}},"tags":["topics"]},"delete":{"operationId":"TopicController_deletePost","summary":"delete topic","description":"delete topic","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StatusResponseDto"}}}},"404":{"description":""}},"tags":["topics"]},"get":{"operationId":"TopicController_getPost","summary":"get topic","description":"get topic","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TopicRespDto"}}}},"404":{"description":""}},"tags":["topics"]}},"/topics/all/with-post-count":{"get":{"operationId":"TopicController_getWithPostCount","summary":"get topic with post count","description":"get topic with post count","parameters":[{"name":"topic_count","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TopicWithPostCountDto"}}}}}},"tags":["topics"]}},"/users/current":{"get":{"operationId":"UsersController_getPost","summary":"get current user","description":"get current user","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponseDto"}}}},"404":{"description":""}}}}},"info":{"title":"Jobfair Senkou API","description":"The super jobfair forum","version":"1.0","contact":{}},"tags":[{"name":"senkou","description":""}],"servers":[],"components":{"schemas":{"TopicInfo":{"type":"object","properties":{"name":{"type":"string"},"_id":{"type":"string"}},"required":["name","_id"]},"UserInfo":{"type":"object","properties":{"name":{"type":"string"},"_id":{"type":"string"}},"required":["name","_id"]},"PostResponseDto":{"type":"object","properties":{"_id":{"type":"string"},"title":{"type":"string"},"content":{"type":"string"},"topic":{"$ref":"#/components/schemas/TopicInfo"},"user":{"$ref":"#/components/schemas/UserInfo"},"upvote_count":{"type":"number"},"downvote_count":{"type":"number"},"reject_reason":{"type":"string"},"publishedAt":{"format":"date-time","type":"string"},"status":{"type":"number"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"}},"required":["_id","title","content","topic","user","upvote_count","downvote_count","reject_reason","publishedAt","status","createdAt","updatedAt"]},"CreatePostDto":{"type":"object","properties":{"title":{"type":"string"},"content":{"type":"string"},"topic_id":{"type":"string"}},"required":["title","content","topic_id"]},"UpdatePostDto":{"type":"object","properties":{"title":{"type":"string"},"content":{"type":"string"},"topic_id":{"type":"string"},"user_id":{"type":"string"},"upvote_count":{"type":"number","minimum":0},"downvote_count":{"type":"number","minimum":0},"status":{"type":"string","enum":["active","pending","reject"]},"publishedAt":{"type":"string"},"reject_reason":{"type":"string"}}},"VotePostDto":{"type":"object","properties":{"is_upvote":{"type":"boolean"}},"required":["is_upvote"]},"StatusResponseDto":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]},"IsVoteResponseDto":{"type":"object","properties":{"result":{"type":"object"}},"required":["result"]},"PostInfo":{"type":"object","properties":{"title":{"type":"string"},"_id":{"type":"string"}},"required":["title","_id"]},"CommentResponseDto":{"type":"object","properties":{"_id":{"type":"string"},"content":{"type":"string"},"post":{"$ref":"#/components/schemas/PostInfo"},"user":{"$ref":"#/components/schemas/UserInfo"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"}},"required":["_id","content","post","user","createdAt","updatedAt"]},"CreateCommentDto":{"type":"object","properties":{"content":{"type":"string"},"post_id":{"type":"string"}},"required":["content","post_id"]},"UpdateCommentDto":{"type":"object","properties":{"content":{"type":"string"}}},"TopicRespDto":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"}},"required":["_id","name","createdAt","updatedAt"]},"CreateTopicDto":{"type":"object","properties":{"name":{"type":"string"}},"required":["name"]},"UpdateTopicDto":{"type":"object","properties":{"name":{"type":"string"}}},"TopicWithPostCountDto":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"countPost":{"type":"number"}},"required":["_id","name","createdAt","updatedAt","countPost"]},"UserResponseDto":{"type":"object","properties":{"_id":{"type":"string"},"name":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"}},"required":["_id","name","createdAt","updatedAt"]}}}}